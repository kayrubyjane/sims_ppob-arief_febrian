{"ast":null,"code":"import{UPDATE_PROFILE,UPDATE_PROFILE_SUCCESS,UPDATE_PROFILE_FAILURE,UPDATE_PROFILE_IMAGE,UPDATE_PROFILE_IMAGE_SUCCESS,UPDATE_PROFILE_IMAGE_FAILURE,LOGOUT,LOGIN,LOGIN_SUCCESS,LOGIN_FAILURE,GET_PROFILE,GET_PROFILE_SUCCESS,GET_PROFILE_FAILURE,FETCH_BALANCE,FETCH_BALANCE_SUCCESS,FETCH_BALANCE_FAILURE,REGISTER,REGISTER_SUCCESS,REGISTER_FAILURE}from\"./../types/actionTypes\";const initialState={token:localStorage.getItem(\"token\")||null,profile:{namaDepan:\"\",namaBelakang:\"\",email:\"\",profilePicture:\"\"},saldo:0,loading:false,error:null,success:null};const authReducer=function(){let state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;let action=arguments.length>1?arguments[1]:undefined;switch(action.type){case LOGIN:case GET_PROFILE:case FETCH_BALANCE:case UPDATE_PROFILE:return{...state,loading:true,error:null,success:null};case UPDATE_PROFILE_IMAGE:return{...state,loading:true,error:null};case LOGIN_SUCCESS:localStorage.setItem(\"token\",action.payload.token);return{...state,loading:false,token:action.payload.token,profile:action.payload.profile,error:null};case LOGIN_FAILURE:return{...state,loading:false,error:action.error};case REGISTER:return{...state,loading:true,error:null,success:null};case REGISTER_SUCCESS:return{...state,loading:false,success:action.payload,error:null};case REGISTER_FAILURE:return{...state,loading:false,error:action.error};case GET_PROFILE_SUCCESS:return{...state,loading:false,profile:{email:action.payload.email,namaDepan:action.payload.first_name,namaBelakang:action.payload.last_name,profilePicture:action.payload.profile_image},token:action.payload.token||state.token,error:null};case GET_PROFILE_FAILURE:return{...state,loading:false,error:action.error};case FETCH_BALANCE_SUCCESS:return{...state,loading:false,saldo:action.payload,error:null};case FETCH_BALANCE_FAILURE:return{...state,loading:false,error:action.error};case UPDATE_PROFILE_SUCCESS:return{...state,loading:false,profile:{...state.profile,namaDepan:action.payload.first_name,namaBelakang:action.payload.last_name},success:\"Profil berhasil diperbarui\",error:null};case UPDATE_PROFILE_FAILURE:return{...state,loading:false,error:action.error,success:null};case UPDATE_PROFILE_IMAGE_SUCCESS:return{...state,loading:false,profile:{...state.profile,profilePicture:action.payload.profilePicture},error:null};case UPDATE_PROFILE_IMAGE_FAILURE:return{...state,loading:false,error:action.error};case LOGOUT:localStorage.removeItem(\"token\");return{...state,token:null};default:return state;}};export default authReducer;","map":{"version":3,"names":["UPDATE_PROFILE","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_FAILURE","UPDATE_PROFILE_IMAGE","UPDATE_PROFILE_IMAGE_SUCCESS","UPDATE_PROFILE_IMAGE_FAILURE","LOGOUT","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","GET_PROFILE","GET_PROFILE_SUCCESS","GET_PROFILE_FAILURE","FETCH_BALANCE","FETCH_BALANCE_SUCCESS","FETCH_BALANCE_FAILURE","REGISTER","REGISTER_SUCCESS","REGISTER_FAILURE","initialState","token","localStorage","getItem","profile","namaDepan","namaBelakang","email","profilePicture","saldo","loading","error","success","authReducer","state","arguments","length","undefined","action","type","setItem","payload","first_name","last_name","profile_image","removeItem"],"sources":["C:/Users/arief/OneDrive/Documents/reactJS/sims_ppob-arief_febrian/src/redux/reducers/authReducers.js"],"sourcesContent":["import {\r\n     UPDATE_PROFILE,\r\n     UPDATE_PROFILE_SUCCESS,\r\n     UPDATE_PROFILE_FAILURE,\r\n     UPDATE_PROFILE_IMAGE,\r\n     UPDATE_PROFILE_IMAGE_SUCCESS,\r\n     UPDATE_PROFILE_IMAGE_FAILURE,\r\n     LOGOUT,\r\n     LOGIN,\r\n     LOGIN_SUCCESS,\r\n     LOGIN_FAILURE,\r\n     GET_PROFILE,\r\n     GET_PROFILE_SUCCESS,\r\n     GET_PROFILE_FAILURE,\r\n     FETCH_BALANCE,\r\n     FETCH_BALANCE_SUCCESS,\r\n     FETCH_BALANCE_FAILURE,\r\n     REGISTER,\r\n     REGISTER_SUCCESS,\r\n     REGISTER_FAILURE,\r\n} from \"./../types/actionTypes\";\r\n\r\nconst initialState = {\r\n     token: localStorage.getItem(\"token\") || null,\r\n     profile: {\r\n          namaDepan: \"\",\r\n          namaBelakang: \"\",\r\n          email: \"\",\r\n          profilePicture: \"\",\r\n     },\r\n     saldo: 0,\r\n     loading: false,\r\n     error: null,\r\n     success: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n     switch (action.type) {\r\n          case LOGIN:\r\n          case GET_PROFILE:\r\n          case FETCH_BALANCE:\r\n          case UPDATE_PROFILE:\r\n               return { ...state, loading: true, error: null, success: null };\r\n          case UPDATE_PROFILE_IMAGE:\r\n               return { ...state, loading: true, error: null };\r\n\r\n          case LOGIN_SUCCESS:\r\n               localStorage.setItem(\"token\", action.payload.token)\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    token: action.payload.token,\r\n                    profile: action.payload.profile,\r\n                    error: null,\r\n               };\r\n\r\n          case LOGIN_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case REGISTER:\r\n               return { ...state, loading: true, error: null, success: null };\r\n\r\n          case REGISTER_SUCCESS:\r\n               return { ...state, loading: false, success: action.payload, error: null };\r\n\r\n          case REGISTER_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case GET_PROFILE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: {\r\n                         email: action.payload.email,\r\n                         namaDepan: action.payload.first_name,\r\n                         namaBelakang: action.payload.last_name,\r\n                         profilePicture: action.payload.profile_image,\r\n                    },\r\n                    token: action.payload.token || state.token,\r\n                    error: null,\r\n               };\r\n\r\n          case GET_PROFILE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case FETCH_BALANCE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    saldo: action.payload,\r\n                    error: null,\r\n               };\r\n\r\n          case FETCH_BALANCE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n\r\n          case UPDATE_PROFILE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: {\r\n                         ...state.profile,\r\n                         namaDepan: action.payload.first_name,\r\n                         namaBelakang: action.payload.last_name,\r\n                    },\r\n                    success: \"Profil berhasil diperbarui\",\r\n                    error: null,\r\n               };\r\n\r\n          case UPDATE_PROFILE_FAILURE:\r\n               return { ...state, loading: false, error: action.error, success: null };\r\n\r\n          case UPDATE_PROFILE_IMAGE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: {\r\n                         ...state.profile,\r\n                         profilePicture: action.payload.profilePicture,\r\n                    },\r\n                    error: null,\r\n               };\r\n\r\n          case UPDATE_PROFILE_IMAGE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case LOGOUT:\r\n               localStorage.removeItem(\"token\");\r\n               return { ...state, token: null };\r\n\r\n          default:\r\n               return state;\r\n     }\r\n};\r\n\r\nexport default authReducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { LOAD_PROFILE, LOAD_PROFILE_SUCCESS, LOAD_PROFILE_FAILURE, UPDATE_PROFILE_IMAGE, UPDATE_PROFILE_IMAGE_SUCCESS, UPDATE_PROFILE_IMAGE_FAILURE, LOGOUT, LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE, GET_SALDO, GET_SALDO_SUCCESS, GET_SALDO_FAILURE, GET_PROFILE, GET_PROFILE_SUCCESS, GET_PROFILE_FAILURE } from \"../types/authActionTypes\";\nconst initialState = {\n  token: null,\n  profile: {\n    namaDepan: \"\",\n    namaBelakang: \"\",\n    email: \"\",\n    profilePicture: \"\"\n  },\n  saldo: 0,\n  // Added saldo to initial state\n  loading: false,\n  error: null\n};\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN:\n    case LOAD_PROFILE:\n    case GET_PROFILE:\n    case GET_SALDO:\n    case UPDATE_PROFILE_IMAGE:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case LOGIN_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        token: action.payload.token,\n        profile: action.payload.profile,\n        error: null\n      };\n    case LOGIN_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case LOAD_PROFILE_SUCCESS:\n    case GET_PROFILE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        profile: action.payload,\n        token: action.payload.token || state.token,\n        error: null\n      };\n    case LOAD_PROFILE_FAILURE:\n    case GET_PROFILE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case GET_SALDO_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        saldo: action.payload.saldo,\n        // Update saldo with the fetched balance\n        error: null\n      };\n    case GET_SALDO_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case UPDATE_PROFILE_IMAGE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        profile: {\n          ...state.profile,\n          profilePicture: action.payload.profilePicture\n        },\n        error: null\n      };\n    case UPDATE_PROFILE_IMAGE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case LOGOUT:\n      return {\n        ...initialState\n      };\n    default:\n      return state;\n  }\n};\nexport default authReducer;","map":{"version":3,"names":["LOAD_PROFILE","LOAD_PROFILE_SUCCESS","LOAD_PROFILE_FAILURE","UPDATE_PROFILE_IMAGE","UPDATE_PROFILE_IMAGE_SUCCESS","UPDATE_PROFILE_IMAGE_FAILURE","LOGOUT","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","GET_SALDO","GET_SALDO_SUCCESS","GET_SALDO_FAILURE","GET_PROFILE","GET_PROFILE_SUCCESS","GET_PROFILE_FAILURE","initialState","token","profile","namaDepan","namaBelakang","email","profilePicture","saldo","loading","error","authReducer","state","action","type","payload"],"sources":["C:/Users/arief/OneDrive/Documents/reactJS/sims_ppob-arief_febrian/src/redux/reducers/authReducers.js"],"sourcesContent":["import {\r\n     LOAD_PROFILE,\r\n     LOAD_PROFILE_SUCCESS,\r\n     LOAD_PROFILE_FAILURE,\r\n     UPDATE_PROFILE_IMAGE,\r\n     UPDATE_PROFILE_IMAGE_SUCCESS,\r\n     UPDATE_PROFILE_IMAGE_FAILURE,\r\n     LOGOUT,\r\n     LOGIN,\r\n     LOGIN_SUCCESS,\r\n     LOGIN_FAILURE,\r\n     GET_SALDO,\r\n     GET_SALDO_SUCCESS,\r\n     GET_SALDO_FAILURE,\r\n     GET_PROFILE,\r\n     GET_PROFILE_SUCCESS,\r\n     GET_PROFILE_FAILURE,\r\n} from \"../types/authActionTypes\";\r\n\r\nconst initialState = {\r\n     token: null,\r\n     profile: {\r\n          namaDepan: \"\",\r\n          namaBelakang: \"\",\r\n          email: \"\",\r\n          profilePicture: \"\",\r\n     },\r\n     saldo: 0, // Added saldo to initial state\r\n     loading: false,\r\n     error: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n     switch (action.type) {\r\n          case LOGIN:\r\n          case LOAD_PROFILE:\r\n          case GET_PROFILE:\r\n          case GET_SALDO:\r\n          case UPDATE_PROFILE_IMAGE:\r\n               return { ...state, loading: true, error: null };\r\n\r\n          case LOGIN_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    token: action.payload.token,\r\n                    profile: action.payload.profile,\r\n                    error: null,\r\n               };\r\n\r\n          case LOGIN_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case LOAD_PROFILE_SUCCESS:\r\n          case GET_PROFILE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: action.payload,\r\n                    token: action.payload.token || state.token,\r\n                    error: null,\r\n               };\r\n\r\n          case LOAD_PROFILE_FAILURE:\r\n          case GET_PROFILE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case GET_SALDO_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    saldo: action.payload.saldo,  // Update saldo with the fetched balance\r\n                    error: null,\r\n               };\r\n\r\n          case GET_SALDO_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case UPDATE_PROFILE_IMAGE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: {\r\n                         ...state.profile,\r\n                         profilePicture: action.payload.profilePicture,\r\n                    },\r\n                    error: null,\r\n               };\r\n\r\n          case UPDATE_PROFILE_IMAGE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case LOGOUT:\r\n               return { ...initialState };\r\n\r\n          default:\r\n               return state;\r\n     }\r\n};\r\n\r\nexport default authReducer;\r\n"],"mappings":"AAAA,SACKA,YAAY,EACZC,oBAAoB,EACpBC,oBAAoB,EACpBC,oBAAoB,EACpBC,4BAA4B,EAC5BC,4BAA4B,EAC5BC,MAAM,EACNC,KAAK,EACLC,aAAa,EACbC,aAAa,EACbC,SAAS,EACTC,iBAAiB,EACjBC,iBAAiB,EACjBC,WAAW,EACXC,mBAAmB,EACnBC,mBAAmB,QACjB,0BAA0B;AAEjC,MAAMC,YAAY,GAAG;EAChBC,KAAK,EAAE,IAAI;EACXC,OAAO,EAAE;IACJC,SAAS,EAAE,EAAE;IACbC,YAAY,EAAE,EAAE;IAChBC,KAAK,EAAE,EAAE;IACTC,cAAc,EAAE;EACrB,CAAC;EACDC,KAAK,EAAE,CAAC;EAAE;EACVC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACZ,CAAC;AAED,MAAMC,WAAW,GAAGA,CAACC,KAAK,GAAGX,YAAY,EAAEY,MAAM,KAAK;EACjD,QAAQA,MAAM,CAACC,IAAI;IACd,KAAKtB,KAAK;IACV,KAAKP,YAAY;IACjB,KAAKa,WAAW;IAChB,KAAKH,SAAS;IACd,KAAKP,oBAAoB;MACpB,OAAO;QAAE,GAAGwB,KAAK;QAAEH,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC;IAEpD,KAAKjB,aAAa;MACb,OAAO;QACF,GAAGmB,KAAK;QACRH,OAAO,EAAE,KAAK;QACdP,KAAK,EAAEW,MAAM,CAACE,OAAO,CAACb,KAAK;QAC3BC,OAAO,EAAEU,MAAM,CAACE,OAAO,CAACZ,OAAO;QAC/BO,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKhB,aAAa;MACb,OAAO;QAAE,GAAGkB,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEG,MAAM,CAACH;MAAM,CAAC;IAE7D,KAAKxB,oBAAoB;IACzB,KAAKa,mBAAmB;MACnB,OAAO;QACF,GAAGa,KAAK;QACRH,OAAO,EAAE,KAAK;QACdN,OAAO,EAAEU,MAAM,CAACE,OAAO;QACvBb,KAAK,EAAEW,MAAM,CAACE,OAAO,CAACb,KAAK,IAAIU,KAAK,CAACV,KAAK;QAC1CQ,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKvB,oBAAoB;IACzB,KAAKa,mBAAmB;MACnB,OAAO;QAAE,GAAGY,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEG,MAAM,CAACH;MAAM,CAAC;IAE7D,KAAKd,iBAAiB;MACjB,OAAO;QACF,GAAGgB,KAAK;QACRH,OAAO,EAAE,KAAK;QACdD,KAAK,EAAEK,MAAM,CAACE,OAAO,CAACP,KAAK;QAAG;QAC9BE,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKb,iBAAiB;MACjB,OAAO;QAAE,GAAGe,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEG,MAAM,CAACH;MAAM,CAAC;IAE7D,KAAKrB,4BAA4B;MAC5B,OAAO;QACF,GAAGuB,KAAK;QACRH,OAAO,EAAE,KAAK;QACdN,OAAO,EAAE;UACJ,GAAGS,KAAK,CAACT,OAAO;UAChBI,cAAc,EAAEM,MAAM,CAACE,OAAO,CAACR;QACpC,CAAC;QACDG,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKpB,4BAA4B;MAC5B,OAAO;QAAE,GAAGsB,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEG,MAAM,CAACH;MAAM,CAAC;IAE7D,KAAKnB,MAAM;MACN,OAAO;QAAE,GAAGU;MAAa,CAAC;IAE/B;MACK,OAAOW,KAAK;EACtB;AACL,CAAC;AAED,eAAeD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import axios from \"axios\";\nimport { baseUrl } from \"../../api\";\nimport { LOAD_PROFILE, UPDATE_PROFILE_IMAGE, LOGOUT, LOAD_PROFILE_SUCCESS, LOAD_PROFILE_FAILURE, UPDATE_PROFILE_IMAGE_SUCCESS, UPDATE_PROFILE_IMAGE_FAILURE, LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE } from \"./../types/actionTypes\";\nexport const loadProfileAction = token => async dispatch => {\n  dispatch({\n    type: LOAD_PROFILE\n  });\n  try {\n    const response = await axios.get(`${baseUrl}profile`, {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    dispatch({\n      type: LOAD_PROFILE_SUCCESS,\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: LOAD_PROFILE_FAILURE,\n      error: \"Failed to load profile data.\"\n    });\n  }\n};\nexport const updateProfileImageAction = (imageData, token) => async dispatch => {\n  dispatch({\n    type: UPDATE_PROFILE_IMAGE\n  });\n  try {\n    await axios.put(`${baseUrl}profile/image`, imageData, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    });\n    dispatch({\n      type: UPDATE_PROFILE_IMAGE_SUCCESS\n    });\n    dispatch(loadProfileAction(token));\n  } catch (error) {\n    dispatch({\n      type: UPDATE_PROFILE_IMAGE_FAILURE,\n      error: \"Failed to update profile image.\"\n    });\n  }\n};\nexport const logoutAction = () => {\n  return {\n    type: LOGOUT\n  };\n};","map":{"version":3,"names":["axios","baseUrl","LOAD_PROFILE","UPDATE_PROFILE_IMAGE","LOGOUT","LOAD_PROFILE_SUCCESS","LOAD_PROFILE_FAILURE","UPDATE_PROFILE_IMAGE_SUCCESS","UPDATE_PROFILE_IMAGE_FAILURE","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","loadProfileAction","token","dispatch","type","response","get","headers","Authorization","payload","data","error","updateProfileImageAction","imageData","put","logoutAction"],"sources":["C:/Users/arief/OneDrive/Documents/reactJS/sims_ppob-arief_febrian/src/redux/actions/authActions.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { baseUrl } from \"../../api\";\r\nimport {\r\n     LOAD_PROFILE,\r\n     UPDATE_PROFILE_IMAGE,\r\n     LOGOUT,\r\n     LOAD_PROFILE_SUCCESS,\r\n     LOAD_PROFILE_FAILURE,\r\n     UPDATE_PROFILE_IMAGE_SUCCESS,\r\n     UPDATE_PROFILE_IMAGE_FAILURE,\r\n     LOGIN,\r\n     LOGIN_SUCCESS,\r\n     LOGIN_FAILURE\r\n} from \"./../types/actionTypes\";\r\n\r\nexport const loadProfileAction = (token) => async (dispatch) => {\r\n     dispatch({ type: LOAD_PROFILE });\r\n     try {\r\n          const response = await axios.get(`${baseUrl}profile`, {\r\n               headers: { Authorization: `Bearer ${token}` },\r\n          });\r\n          dispatch({\r\n               type: LOAD_PROFILE_SUCCESS,\r\n               payload: response.data,\r\n          });\r\n     } catch (error) {\r\n          dispatch({\r\n               type: LOAD_PROFILE_FAILURE,\r\n               error: \"Failed to load profile data.\",\r\n          });\r\n     }\r\n};\r\n\r\nexport const updateProfileImageAction = (imageData, token) => async (dispatch) => {\r\n     dispatch({ type: UPDATE_PROFILE_IMAGE });\r\n     try {\r\n          await axios.put(`${baseUrl}profile/image`, imageData, {\r\n               headers: {\r\n                    Authorization: `Bearer ${token}`,\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n               },\r\n          });\r\n          dispatch({\r\n               type: UPDATE_PROFILE_IMAGE_SUCCESS,\r\n          });\r\n          dispatch(loadProfileAction(token));\r\n     } catch (error) {\r\n          dispatch({\r\n               type: UPDATE_PROFILE_IMAGE_FAILURE,\r\n               error: \"Failed to update profile image.\",\r\n          });\r\n     }\r\n};\r\n\r\nexport const logoutAction = () => {\r\n     return { type: LOGOUT };\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,OAAO,QAAQ,WAAW;AACnC,SACKC,YAAY,EACZC,oBAAoB,EACpBC,MAAM,EACNC,oBAAoB,EACpBC,oBAAoB,EACpBC,4BAA4B,EAC5BC,4BAA4B,EAC5BC,KAAK,EACLC,aAAa,EACbC,aAAa,QACX,wBAAwB;AAE/B,OAAO,MAAMC,iBAAiB,GAAIC,KAAK,IAAK,MAAOC,QAAQ,IAAK;EAC3DA,QAAQ,CAAC;IAAEC,IAAI,EAAEb;EAAa,CAAC,CAAC;EAChC,IAAI;IACC,MAAMc,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,GAAGhB,OAAO,SAAS,EAAE;MACjDiB,OAAO,EAAE;QAAEC,aAAa,EAAE,UAAUN,KAAK;MAAG;IACjD,CAAC,CAAC;IACFC,QAAQ,CAAC;MACJC,IAAI,EAAEV,oBAAoB;MAC1Be,OAAO,EAAEJ,QAAQ,CAACK;IACvB,CAAC,CAAC;EACP,CAAC,CAAC,OAAOC,KAAK,EAAE;IACXR,QAAQ,CAAC;MACJC,IAAI,EAAET,oBAAoB;MAC1BgB,KAAK,EAAE;IACZ,CAAC,CAAC;EACP;AACL,CAAC;AAED,OAAO,MAAMC,wBAAwB,GAAGA,CAACC,SAAS,EAAEX,KAAK,KAAK,MAAOC,QAAQ,IAAK;EAC7EA,QAAQ,CAAC;IAAEC,IAAI,EAAEZ;EAAqB,CAAC,CAAC;EACxC,IAAI;IACC,MAAMH,KAAK,CAACyB,GAAG,CAAC,GAAGxB,OAAO,eAAe,EAAEuB,SAAS,EAAE;MACjDN,OAAO,EAAE;QACJC,aAAa,EAAE,UAAUN,KAAK,EAAE;QAChC,cAAc,EAAE;MACrB;IACL,CAAC,CAAC;IACFC,QAAQ,CAAC;MACJC,IAAI,EAAER;IACX,CAAC,CAAC;IACFO,QAAQ,CAACF,iBAAiB,CAACC,KAAK,CAAC,CAAC;EACvC,CAAC,CAAC,OAAOS,KAAK,EAAE;IACXR,QAAQ,CAAC;MACJC,IAAI,EAAEP,4BAA4B;MAClCc,KAAK,EAAE;IACZ,CAAC,CAAC;EACP;AACL,CAAC;AAED,OAAO,MAAMI,YAAY,GAAGA,CAAA,KAAM;EAC7B,OAAO;IAAEX,IAAI,EAAEX;EAAO,CAAC;AAC5B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
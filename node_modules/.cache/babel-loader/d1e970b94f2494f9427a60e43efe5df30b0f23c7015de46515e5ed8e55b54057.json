{"ast":null,"code":"import { UPDATE_PROFILE, UPDATE_PROFILE_SUCCESS, UPDATE_PROFILE_FAILURE, UPDATE_PROFILE_IMAGE, UPDATE_PROFILE_IMAGE_SUCCESS, UPDATE_PROFILE_IMAGE_FAILURE, LOGOUT, LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE, GET_PROFILE, GET_PROFILE_SUCCESS, GET_PROFILE_FAILURE, FETCH_BALANCE, FETCH_BALANCE_SUCCESS, FETCH_BALANCE_FAILURE, REGISTER, REGISTER_SUCCESS, REGISTER_FAILURE } from \"./../types/actionTypes\";\nconst initialState = {\n  token: localStorage.getItem(\"token\") || null,\n  profile: {\n    namaDepan: \"\",\n    namaBelakang: \"\",\n    email: \"\",\n    profilePicture: \"\"\n  },\n  saldo: 0,\n  loading: false,\n  error: null,\n  success: null\n};\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN:\n    case GET_PROFILE:\n    case FETCH_BALANCE:\n    case UPDATE_PROFILE:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n        success: null\n      };\n    case UPDATE_PROFILE_IMAGE:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token);\n      return {\n        ...state,\n        loading: false,\n        token: action.payload.token,\n        profile: action.payload.profile,\n        error: null\n      };\n    case LOGIN_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case REGISTER:\n      return {\n        ...state,\n        loading: true,\n        error: null,\n        success: null\n      };\n    case REGISTER_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        success: action.payload,\n        error: null\n      };\n    case REGISTER_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case GET_PROFILE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        profile: {\n          email: action.payload.email,\n          namaDepan: action.payload.first_name,\n          namaBelakang: action.payload.last_name,\n          profilePicture: action.payload.profile_image\n        },\n        token: action.payload.token || state.token,\n        error: null\n      };\n    case GET_PROFILE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case FETCH_BALANCE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        saldo: action.payload,\n        error: null\n      };\n    case FETCH_BALANCE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case UPDATE_PROFILE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        profile: {\n          ...state.profile,\n          namaDepan: action.payload.first_name,\n          namaBelakang: action.payload.last_name\n        },\n        success: \"Profil berhasil diperbarui\",\n        error: null\n      };\n    case UPDATE_PROFILE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error,\n        success: null\n      };\n    case UPDATE_PROFILE_IMAGE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        profile: {\n          ...state.profile,\n          profilePicture: action.payload.profilePicture\n        },\n        error: null\n      };\n    case UPDATE_PROFILE_IMAGE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case LOGOUT:\n      return {\n        ...initialState\n      };\n    default:\n      return state;\n  }\n};\nexport default authReducer;","map":{"version":3,"names":["UPDATE_PROFILE","UPDATE_PROFILE_SUCCESS","UPDATE_PROFILE_FAILURE","UPDATE_PROFILE_IMAGE","UPDATE_PROFILE_IMAGE_SUCCESS","UPDATE_PROFILE_IMAGE_FAILURE","LOGOUT","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","GET_PROFILE","GET_PROFILE_SUCCESS","GET_PROFILE_FAILURE","FETCH_BALANCE","FETCH_BALANCE_SUCCESS","FETCH_BALANCE_FAILURE","REGISTER","REGISTER_SUCCESS","REGISTER_FAILURE","initialState","token","localStorage","getItem","profile","namaDepan","namaBelakang","email","profilePicture","saldo","loading","error","success","authReducer","state","action","type","setItem","payload","first_name","last_name","profile_image"],"sources":["C:/Users/arief/OneDrive/Documents/reactJS/sims_ppob-arief_febrian/src/redux/reducers/authReducers.js"],"sourcesContent":["import {\r\n     UPDATE_PROFILE,\r\n     UPDATE_PROFILE_SUCCESS,\r\n     UPDATE_PROFILE_FAILURE,\r\n     UPDATE_PROFILE_IMAGE,\r\n     UPDATE_PROFILE_IMAGE_SUCCESS,\r\n     UPDATE_PROFILE_IMAGE_FAILURE,\r\n     LOGOUT,\r\n     LOGIN,\r\n     LOGIN_SUCCESS,\r\n     LOGIN_FAILURE,\r\n     GET_PROFILE,\r\n     GET_PROFILE_SUCCESS,\r\n     GET_PROFILE_FAILURE,\r\n     FETCH_BALANCE,\r\n     FETCH_BALANCE_SUCCESS,\r\n     FETCH_BALANCE_FAILURE,\r\n     REGISTER,\r\n     REGISTER_SUCCESS,\r\n     REGISTER_FAILURE,\r\n} from \"./../types/actionTypes\";\r\n\r\nconst initialState = {\r\n     token: localStorage.getItem(\"token\") || null,\r\n     profile: {\r\n          namaDepan: \"\",\r\n          namaBelakang: \"\",\r\n          email: \"\",\r\n          profilePicture: \"\",\r\n     },\r\n     saldo: 0,\r\n     loading: false,\r\n     error: null,\r\n     success: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n     switch (action.type) {\r\n          case LOGIN:\r\n          case GET_PROFILE:\r\n          case FETCH_BALANCE:\r\n          case UPDATE_PROFILE:\r\n               return { ...state, loading: true, error: null, success: null };\r\n          case UPDATE_PROFILE_IMAGE:\r\n               return { ...state, loading: true, error: null };\r\n\r\n          case LOGIN_SUCCESS:\r\n               localStorage.setItem(\"token\", action.payload.token)\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    token: action.payload.token,\r\n                    profile: action.payload.profile,\r\n                    error: null,\r\n               };\r\n\r\n          case LOGIN_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case REGISTER:\r\n               return { ...state, loading: true, error: null, success: null };\r\n\r\n          case REGISTER_SUCCESS:\r\n               return { ...state, loading: false, success: action.payload, error: null };\r\n\r\n          case REGISTER_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case GET_PROFILE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: {\r\n                         email: action.payload.email, namaDepan: action.payload.first_name, namaBelakang: action.payload.last_name,\r\n                         profilePicture: action.payload.profile_image\r\n                    },\r\n                    token: action.payload.token || state.token,\r\n                    error: null,\r\n               };\r\n\r\n          case GET_PROFILE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case FETCH_BALANCE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    saldo: action.payload,\r\n                    error: null,\r\n               };\r\n\r\n          case FETCH_BALANCE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n\r\n          case UPDATE_PROFILE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: {\r\n                         ...state.profile,\r\n                         namaDepan: action.payload.first_name,\r\n                         namaBelakang: action.payload.last_name,\r\n                    },\r\n                    success: \"Profil berhasil diperbarui\",\r\n                    error: null,\r\n               };\r\n\r\n          case UPDATE_PROFILE_FAILURE:\r\n               return { ...state, loading: false, error: action.error, success: null };\r\n\r\n          case UPDATE_PROFILE_IMAGE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: {\r\n                         ...state.profile,\r\n                         profilePicture: action.payload.profilePicture,\r\n                    },\r\n                    error: null,\r\n               };\r\n\r\n          case UPDATE_PROFILE_IMAGE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case LOGOUT:\r\n               return { ...initialState };\r\n\r\n          default:\r\n               return state;\r\n     }\r\n};\r\n\r\nexport default authReducer;\r\n"],"mappings":"AAAA,SACKA,cAAc,EACdC,sBAAsB,EACtBC,sBAAsB,EACtBC,oBAAoB,EACpBC,4BAA4B,EAC5BC,4BAA4B,EAC5BC,MAAM,EACNC,KAAK,EACLC,aAAa,EACbC,aAAa,EACbC,WAAW,EACXC,mBAAmB,EACnBC,mBAAmB,EACnBC,aAAa,EACbC,qBAAqB,EACrBC,qBAAqB,EACrBC,QAAQ,EACRC,gBAAgB,EAChBC,gBAAgB,QACd,wBAAwB;AAE/B,MAAMC,YAAY,GAAG;EAChBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI;EAC5CC,OAAO,EAAE;IACJC,SAAS,EAAE,EAAE;IACbC,YAAY,EAAE,EAAE;IAChBC,KAAK,EAAE,EAAE;IACTC,cAAc,EAAE;EACrB,CAAC;EACDC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE,IAAI;EACXC,OAAO,EAAE;AACd,CAAC;AAED,MAAMC,WAAW,GAAGA,CAACC,KAAK,GAAGd,YAAY,EAAEe,MAAM,KAAK;EACjD,QAAQA,MAAM,CAACC,IAAI;IACd,KAAK5B,KAAK;IACV,KAAKG,WAAW;IAChB,KAAKG,aAAa;IAClB,KAAKb,cAAc;MACd,OAAO;QAAE,GAAGiC,KAAK;QAAEJ,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAK,CAAC;IACnE,KAAK5B,oBAAoB;MACpB,OAAO;QAAE,GAAG8B,KAAK;QAAEJ,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC;IAEpD,KAAKtB,aAAa;MACba,YAAY,CAACe,OAAO,CAAC,OAAO,EAAEF,MAAM,CAACG,OAAO,CAACjB,KAAK,CAAC;MACnD,OAAO;QACF,GAAGa,KAAK;QACRJ,OAAO,EAAE,KAAK;QACdT,KAAK,EAAEc,MAAM,CAACG,OAAO,CAACjB,KAAK;QAC3BG,OAAO,EAAEW,MAAM,CAACG,OAAO,CAACd,OAAO;QAC/BO,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKrB,aAAa;MACb,OAAO;QAAE,GAAGwB,KAAK;QAAEJ,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEI,MAAM,CAACJ;MAAM,CAAC;IAE7D,KAAKd,QAAQ;MACR,OAAO;QAAE,GAAGiB,KAAK;QAAEJ,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAE,IAAI;QAAEC,OAAO,EAAE;MAAK,CAAC;IAEnE,KAAKd,gBAAgB;MAChB,OAAO;QAAE,GAAGgB,KAAK;QAAEJ,OAAO,EAAE,KAAK;QAAEE,OAAO,EAAEG,MAAM,CAACG,OAAO;QAAEP,KAAK,EAAE;MAAK,CAAC;IAE9E,KAAKZ,gBAAgB;MAChB,OAAO;QAAE,GAAGe,KAAK;QAAEJ,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEI,MAAM,CAACJ;MAAM,CAAC;IAE7D,KAAKnB,mBAAmB;MACnB,OAAO;QACF,GAAGsB,KAAK;QACRJ,OAAO,EAAE,KAAK;QACdN,OAAO,EAAE;UACJG,KAAK,EAAEQ,MAAM,CAACG,OAAO,CAACX,KAAK;UAAEF,SAAS,EAAEU,MAAM,CAACG,OAAO,CAACC,UAAU;UAAEb,YAAY,EAAES,MAAM,CAACG,OAAO,CAACE,SAAS;UACzGZ,cAAc,EAAEO,MAAM,CAACG,OAAO,CAACG;QACpC,CAAC;QACDpB,KAAK,EAAEc,MAAM,CAACG,OAAO,CAACjB,KAAK,IAAIa,KAAK,CAACb,KAAK;QAC1CU,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKlB,mBAAmB;MACnB,OAAO;QAAE,GAAGqB,KAAK;QAAEJ,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEI,MAAM,CAACJ;MAAM,CAAC;IAE7D,KAAKhB,qBAAqB;MACrB,OAAO;QACF,GAAGmB,KAAK;QACRJ,OAAO,EAAE,KAAK;QACdD,KAAK,EAAEM,MAAM,CAACG,OAAO;QACrBP,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKf,qBAAqB;MACrB,OAAO;QAAE,GAAGkB,KAAK;QAAEJ,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEI,MAAM,CAACJ;MAAM,CAAC;IAG7D,KAAK7B,sBAAsB;MACtB,OAAO;QACF,GAAGgC,KAAK;QACRJ,OAAO,EAAE,KAAK;QACdN,OAAO,EAAE;UACJ,GAAGU,KAAK,CAACV,OAAO;UAChBC,SAAS,EAAEU,MAAM,CAACG,OAAO,CAACC,UAAU;UACpCb,YAAY,EAAES,MAAM,CAACG,OAAO,CAACE;QAClC,CAAC;QACDR,OAAO,EAAE,4BAA4B;QACrCD,KAAK,EAAE;MACZ,CAAC;IAEN,KAAK5B,sBAAsB;MACtB,OAAO;QAAE,GAAG+B,KAAK;QAAEJ,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEI,MAAM,CAACJ,KAAK;QAAEC,OAAO,EAAE;MAAK,CAAC;IAE5E,KAAK3B,4BAA4B;MAC5B,OAAO;QACF,GAAG6B,KAAK;QACRJ,OAAO,EAAE,KAAK;QACdN,OAAO,EAAE;UACJ,GAAGU,KAAK,CAACV,OAAO;UAChBI,cAAc,EAAEO,MAAM,CAACG,OAAO,CAACV;QACpC,CAAC;QACDG,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKzB,4BAA4B;MAC5B,OAAO;QAAE,GAAG4B,KAAK;QAAEJ,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEI,MAAM,CAACJ;MAAM,CAAC;IAE7D,KAAKxB,MAAM;MACN,OAAO;QAAE,GAAGa;MAAa,CAAC;IAE/B;MACK,OAAOc,KAAK;EACtB;AACL,CAAC;AAED,eAAeD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"import { UPDATE_PROFILE_IMAGE, UPDATE_PROFILE_IMAGE_SUCCESS, UPDATE_PROFILE_IMAGE_FAILURE, LOGOUT, LOGIN, LOGIN_SUCCESS, LOGIN_FAILURE, GET_PROFILE, GET_PROFILE_SUCCESS, GET_PROFILE_FAILURE, FETCH_BALANCE, FETCH_BALANCE_SUCCESS, FETCH_BALANCE_FAILURE } from \"./../types/actionTypes\";\nconst initialState = {\n  token: localStorage.getItem(\"token\") || null,\n  profile: {\n    namaDepan: \"\",\n    namaBelakang: \"\",\n    email: \"\",\n    profilePicture: \"\"\n  },\n  saldo: 0,\n  loading: false,\n  error: null\n};\nconst authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case LOGIN:\n    case GET_PROFILE:\n    case FETCH_BALANCE:\n    case UPDATE_PROFILE_IMAGE:\n      return {\n        ...state,\n        loading: true,\n        error: null\n      };\n    case LOGIN_SUCCESS:\n      localStorage.setItem(\"token\", action.payload.token);\n      return {\n        ...state,\n        loading: false,\n        token: action.payload.token,\n        profile: action.payload.profile,\n        error: null\n      };\n    case LOGIN_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case GET_PROFILE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        profile: action.payload,\n        token: action.payload.token || state.token,\n        error: null\n      };\n    case GET_PROFILE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case FETCH_BALANCE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        saldo: action.payload,\n        error: null\n      };\n    case FETCH_BALANCE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case UPDATE_PROFILE_IMAGE_SUCCESS:\n      return {\n        ...state,\n        loading: false,\n        profile: {\n          ...state.profile,\n          profilePicture: action.payload.profilePicture\n        },\n        error: null\n      };\n    case UPDATE_PROFILE_IMAGE_FAILURE:\n      return {\n        ...state,\n        loading: false,\n        error: action.error\n      };\n    case LOGOUT:\n      return {\n        ...initialState\n      };\n    default:\n      return state;\n  }\n};\nexport default authReducer;","map":{"version":3,"names":["UPDATE_PROFILE_IMAGE","UPDATE_PROFILE_IMAGE_SUCCESS","UPDATE_PROFILE_IMAGE_FAILURE","LOGOUT","LOGIN","LOGIN_SUCCESS","LOGIN_FAILURE","GET_PROFILE","GET_PROFILE_SUCCESS","GET_PROFILE_FAILURE","FETCH_BALANCE","FETCH_BALANCE_SUCCESS","FETCH_BALANCE_FAILURE","initialState","token","localStorage","getItem","profile","namaDepan","namaBelakang","email","profilePicture","saldo","loading","error","authReducer","state","action","type","setItem","payload"],"sources":["C:/Users/arief/OneDrive/Documents/reactJS/sims_ppob-arief_febrian/src/redux/reducers/authReducers.js"],"sourcesContent":["import {\r\n     UPDATE_PROFILE_IMAGE,\r\n     UPDATE_PROFILE_IMAGE_SUCCESS,\r\n     UPDATE_PROFILE_IMAGE_FAILURE,\r\n     LOGOUT,\r\n     LOGIN,\r\n     LOGIN_SUCCESS,\r\n     LOGIN_FAILURE,\r\n     GET_PROFILE,\r\n     GET_PROFILE_SUCCESS,\r\n     GET_PROFILE_FAILURE,\r\n     FETCH_BALANCE,\r\n     FETCH_BALANCE_SUCCESS,\r\n     FETCH_BALANCE_FAILURE\r\n} from \"./../types/actionTypes\";\r\n\r\nconst initialState = {\r\n     token: localStorage.getItem(\"token\") || null,\r\n     profile: {\r\n          namaDepan: \"\",\r\n          namaBelakang: \"\",\r\n          email: \"\",\r\n          profilePicture: \"\",\r\n     },\r\n     saldo: 0,\r\n     loading: false,\r\n     error: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n     switch (action.type) {\r\n          case LOGIN:\r\n          case GET_PROFILE:\r\n          case FETCH_BALANCE:\r\n          case UPDATE_PROFILE_IMAGE:\r\n               return { ...state, loading: true, error: null };\r\n\r\n          case LOGIN_SUCCESS:\r\n               localStorage.setItem(\"token\", action.payload.token)\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    token: action.payload.token,\r\n                    profile: action.payload.profile,\r\n                    error: null,\r\n               };\r\n\r\n          case LOGIN_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case GET_PROFILE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: action.payload,\r\n                    token: action.payload.token || state.token,\r\n                    error: null,\r\n               };\r\n\r\n          case GET_PROFILE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case FETCH_BALANCE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    saldo: action.payload,\r\n                    error: null,\r\n               };\r\n\r\n          case FETCH_BALANCE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case UPDATE_PROFILE_IMAGE_SUCCESS:\r\n               return {\r\n                    ...state,\r\n                    loading: false,\r\n                    profile: {\r\n                         ...state.profile,\r\n                         profilePicture: action.payload.profilePicture,\r\n                    },\r\n                    error: null,\r\n               };\r\n\r\n          case UPDATE_PROFILE_IMAGE_FAILURE:\r\n               return { ...state, loading: false, error: action.error };\r\n\r\n          case LOGOUT:\r\n               return { ...initialState };\r\n\r\n          default:\r\n               return state;\r\n     }\r\n};\r\n\r\nexport default authReducer;\r\n"],"mappings":"AAAA,SACKA,oBAAoB,EACpBC,4BAA4B,EAC5BC,4BAA4B,EAC5BC,MAAM,EACNC,KAAK,EACLC,aAAa,EACbC,aAAa,EACbC,WAAW,EACXC,mBAAmB,EACnBC,mBAAmB,EACnBC,aAAa,EACbC,qBAAqB,EACrBC,qBAAqB,QACnB,wBAAwB;AAE/B,MAAMC,YAAY,GAAG;EAChBC,KAAK,EAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,IAAI;EAC5CC,OAAO,EAAE;IACJC,SAAS,EAAE,EAAE;IACbC,YAAY,EAAE,EAAE;IAChBC,KAAK,EAAE,EAAE;IACTC,cAAc,EAAE;EACrB,CAAC;EACDC,KAAK,EAAE,CAAC;EACRC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACZ,CAAC;AAED,MAAMC,WAAW,GAAGA,CAACC,KAAK,GAAGb,YAAY,EAAEc,MAAM,KAAK;EACjD,QAAQA,MAAM,CAACC,IAAI;IACd,KAAKxB,KAAK;IACV,KAAKG,WAAW;IAChB,KAAKG,aAAa;IAClB,KAAKV,oBAAoB;MACpB,OAAO;QAAE,GAAG0B,KAAK;QAAEH,OAAO,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC;IAEpD,KAAKnB,aAAa;MACbU,YAAY,CAACc,OAAO,CAAC,OAAO,EAAEF,MAAM,CAACG,OAAO,CAAChB,KAAK,CAAC;MACnD,OAAO;QACF,GAAGY,KAAK;QACRH,OAAO,EAAE,KAAK;QACdT,KAAK,EAAEa,MAAM,CAACG,OAAO,CAAChB,KAAK;QAC3BG,OAAO,EAAEU,MAAM,CAACG,OAAO,CAACb,OAAO;QAC/BO,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKlB,aAAa;MACb,OAAO;QAAE,GAAGoB,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEG,MAAM,CAACH;MAAM,CAAC;IAE7D,KAAKhB,mBAAmB;MACnB,OAAO;QACF,GAAGkB,KAAK;QACRH,OAAO,EAAE,KAAK;QACdN,OAAO,EAAEU,MAAM,CAACG,OAAO;QACvBhB,KAAK,EAAEa,MAAM,CAACG,OAAO,CAAChB,KAAK,IAAIY,KAAK,CAACZ,KAAK;QAC1CU,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKf,mBAAmB;MACnB,OAAO;QAAE,GAAGiB,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEG,MAAM,CAACH;MAAM,CAAC;IAE7D,KAAKb,qBAAqB;MACrB,OAAO;QACF,GAAGe,KAAK;QACRH,OAAO,EAAE,KAAK;QACdD,KAAK,EAAEK,MAAM,CAACG,OAAO;QACrBN,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKZ,qBAAqB;MACrB,OAAO;QAAE,GAAGc,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEG,MAAM,CAACH;MAAM,CAAC;IAE7D,KAAKvB,4BAA4B;MAC5B,OAAO;QACF,GAAGyB,KAAK;QACRH,OAAO,EAAE,KAAK;QACdN,OAAO,EAAE;UACJ,GAAGS,KAAK,CAACT,OAAO;UAChBI,cAAc,EAAEM,MAAM,CAACG,OAAO,CAACT;QACpC,CAAC;QACDG,KAAK,EAAE;MACZ,CAAC;IAEN,KAAKtB,4BAA4B;MAC5B,OAAO;QAAE,GAAGwB,KAAK;QAAEH,OAAO,EAAE,KAAK;QAAEC,KAAK,EAAEG,MAAM,CAACH;MAAM,CAAC;IAE7D,KAAKrB,MAAM;MACN,OAAO;QAAE,GAAGU;MAAa,CAAC;IAE/B;MACK,OAAOa,KAAK;EACtB;AACL,CAAC;AAED,eAAeD,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}